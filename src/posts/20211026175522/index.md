---
title: 如何区分反向代理和正向代理
categories:
  - 未分类
tags:
  - 无标签
date: 2021-10-26 09:55:22
---

<script setup lang="ts">
import PostHeader from '../../_components/PostHeader.vue'
import EditInfo from '../../_components/EditInfo.vue'
</script>


<PostHeader :postId='2600229272' />

反向代理和正向代理的主要区别在于它们代理的对象和使用场景不同。

以下是它们的概念、工作方式和使用场景的详细对比：

## 1. 反向代理（Reverse Proxy）

**定义：**

反向代理服务器位于客户端和服务器之间，它代表服务器接收客户端的请求，并将请求转发给真正的后端服务器，然后将服务器的响应返回给客户端。

**工作流程：**

1. 客户端发出请求到代理服务器。
2. 代理服务器将请求转发给内部的真实服务器。
3. 真实服务器返回响应给代理服务器。
4. 代理服务器再将响应返回给客户端。

**典型场景：**

- 负载均衡：将请求分配到多个后端服务器，减轻单一服务器的压力。
- 安全防护：隐藏后端服务器的真实 IP，保护其不受攻击。
- 缓存加速：将常用资源缓存在代理服务器上，提高响应速度。
- 跨域处理（CORS）：前端开发时，通过反向代理解决跨域问题。

**示例：**

-	使用 Nginx 或 Apache 作为反向代理，将请求转发到不同的后端服务器。
- CDN（内容分发网络）也是反向代理的一种，通过代理服务器缓存资源，减少主服务器负载。

## 2. 正向代理（Forward Proxy）

**定义：**

正向代理位于客户端和服务器之间，它代表客户端发出请求，将客户端的请求转发给目标服务器，然后将服务器的响应返回给客户端。

**工作流程：**

1. 客户端先向正向代理服务器发送请求。
2. 代理服务器代表客户端与目标服务器建立连接。
3. 目标服务器返回响应给代理服务器。
4. 代理服务器再将响应传回客户端。

**典型场景：**

-	访问受限资源：通过代理访问被屏蔽的网站（例如翻墙工具）。
-	隐匿客户端 IP：隐藏用户的真实 IP，提高匿名性和隐私。
-	缓存内容：减少多次访问相同资源的网络消耗。
-	企业内网管理：限制员工访问某些网站或监控上网行为。

**示例：**

-	使用 Shadowsocks 或 Squid 实现网络代理访问外网。
-	通过公司内网的代理服务器访问互联网。

## 3. 反向代理 vs 正向代理：核心区别

| 对比维度 | 反向代理 | 正向代理 |
| :-: | :-: | :-: |
| 代理对象 | 服务器（替服务器接收请求） | 客户端（替客户端发出请求） |
| 客户端感知 | 客户端无需知道真实服务器的存在 | 目标服务器无需知道客户端的存在 |
| 隐藏的 IP | 隐藏服务器的 IP | 隐藏客户端的 IP |
| 适用场景 | 负载均衡、安全防护、缓存、CORS 处理 | 匿名上网、访问受限资源、缓存、企业管控 |
| 典型应用 | Nginx、CDN、API、网关 | Shadowsocks、VPN、公司网络代理 |

## 4. 总结

-	正向代理更像是客户端的“助手”，帮助客户端访问外部资源，尤其是那些受限或无法直接访问的资源。
-	反向代理更像是服务器的“看门人”，代理服务器替后端服务器处理请求，提供安全性、负载均衡和缓存等服务。

简而言之：

-	正向代理是“我（客户端）无法直接访问，但通过代理我能去”。
-	反向代理是“你找我（代理服务器）就对了，我帮你转发给正确的后端服务器”。



<EditInfo editLink='https://github.com/liangpengyv/my-blog-by-fluxpress/issues/23' lastUpdated='2024-10-20 17:30:33' />